<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">

</head>
<body>
<div th:fragment="MainNavBarHeader">
    <nav class="navbar navbar-expand-lg navbar-light bg-light " id="navbar-main" >
        <div class="row" id="navbarRow">
            <a class="navbar-brand" href="/" id="navbarBrand" >
                <img src="https://image.flaticon.com/icons/svg/2920/2920291.svg" width="45" height="45" alt="">
            </a>


            <a class="navbar-brand" href="/" ><h1 class="navbarH1">Venture</h1>
                <p class="text-muted" style="font-size:10px; padding-left:9rem">An Online Shopping Site</p></a>



    <ul class="searchandAddtoCart" id="navbarSearch">
        <form class="form-inline "  th:action="@{/AddToCart/Search/}" method="POST"  >
            <input class="form-control" type="search" placeholder="Search" name="productName" aria-label="Search" id="searchbar">
          <div class="buttonSearch"> <button class="btn btn-warning my-2 my-sm-0" type="submit">Search</button></div>
        </form>

    </ul>
 <ul class="searchandAddtoCart">  <div th:replace="fragments/HeaderFragments/addToCartHeader :: addToCartHeader " >...</div></ul>



                <div th:if="!${#request.userPrincipal}"  >

                    <ul class="buttonitem  " id="userPrinciple">
                        <li class="nav-item ">
                            <a class="nav-link " href="/registration"  ><button type="button" class="button btn btn-outline-primary " id="signUpButton">Sign up</button></a>
                        </li>
                        <li class="buttonitem" >
                            <a class="nav-link " href="/login"   ><button type="button" class="button btn btn-outline-success " id="loginButton">Login</button></a>
                        </li>
                    </ul>
                </div>
            <div th:if="${#authorization.expression('hasAuthority(''ADMIN'')')}" class="admin"><a href="/admin/post"><button type="button" class="btn btn-outline-dark">Post Product</button></a></div>

                <div  sec:authorize="isAuthenticated()" class="setting">
                    <ul class="navbar-nav" >
                        <li class="nav-item dropdown ml-auto">
                            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="font-size:1.25rem;font-weight:500">
                           <img src="https://image.flaticon.com/icons/svg/2921/2921299.svg" style="height:40px; width:40px">
                            </a>
                            <div class="dropdown-menu " aria-labelledby="navbarDropdown">

                                <a class="dropdown-item" href="/profile" th:text="${#authentication.name} + ' profile'"></a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item" href="/logout">Logout</a>
                            </div>

                        </li>

                    </ul>

                </div>

            </div>

    </nav>
</div>

</body>
</html>